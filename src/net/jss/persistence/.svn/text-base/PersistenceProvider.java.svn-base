package net.saje.persistence;

import javax.jdo.JDOHelper;
import javax.jdo.PersistenceManager;
import javax.jdo.PersistenceManagerFactory;

public class PersistenceProvider {
	
	private static PersistenceManager pm;
	
	public static void createPersistenceManager(){
		System.out.println("Opening persistence manager.");
		PersistenceManagerFactory pmf = JDOHelper.getPersistenceManagerFactory("datanucleus.properties");
		pm = pmf.getPersistenceManager();
	}
	
	public static PersistenceManager getPersistenceManager(){
		System.out.println("Returning a PM");
		return pm;
	}
	
	public static void closePersistenceManager(){
		if(pm!=null){
			System.out.println("Closing PM");
			pm.close();
		} else {
			System.out.println("Could not close PM");
		}
	}
}
